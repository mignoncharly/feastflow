<!-- templates/core/contact.html -->
{% extends "base.html" %}
{% load i18n %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}{% trans "Contact Us" %} - FeastFlow{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contact.css' %}">
{% endblock %}

{% block content %}
<div class="contact-page">
    <!-- Header Section -->
    <div class="contact-header">
        <div class="container">
            <div class="header-content">
                <h1 class="page-title">{% trans "We'd Love to Hear From You" %}</h1>
                <p class="page-subtitle">{% trans "Report bugs, suggest features, or get help from our team" %}</p>
            </div>
        </div>
        
        <!-- Decorative Elements -->
        <div class="header-decoration">
            <div class="decoration-shape shape1"></div>
            <div class="decoration-shape shape2"></div>
            <div class="decoration-shape shape3"></div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="container">
        <div class="contact-content">
            <!-- Contact Options -->
            <div class="contact-options">
                <div class="option-card" data-type="bug">
                    <div class="option-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/>
                        </svg>
                    </div>
                    <h3 class="option-title">{% trans "Report a Bug" %}</h3>
                    <p class="option-description">{% trans "Found something not working correctly? Let us know so we can fix it." %}</p>
                    <button class="option-button" data-type="bug">
                        <span>{% trans "Report Bug" %}</span>
                    </button>
                </div>
                
                <div class="option-card" data-type="feature">
                    <div class="option-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M2 6.342a3 3 0 0 1 5.924-.464l1.04-.208A4 4 0 1 0 2.6 8.4L2 6.342zm10.265.034a3 3 0 0 1-5.924.464l-1.04.208a4 4 0 1 0 6.465-2.66l-.814 1.988zm-8.55 8.309l.31.31a3.53 3.53 0 0 0 4.939 0 3.53 3.53 0 0 0 0-4.939l-.31-.31-.698.698.31.31a2.53 2.53 0 0 1 0 3.543 2.53 2.53 0 0 1-3.543 0l-.31-.31-.698.698zm4.586-4.586l-.698.698.31.31a2.53 2.53 0 0 1 0 3.543 2.53 2.53 0 0 1-3.543 0l-.31-.31-.698.698.31.31a3.53 3.53 0 0 0 4.939 0 3.53 3.53 0 0 0 0-4.939l-.31-.31zm-8.036.186l2.121-2.121 2.121 2.12-2.12 2.122-2.122-2.121z"/>
                        </svg>
                    </div>
                    <h3 class="option-title">{% trans "Request a Feature" %}</h3>
                    <p class="option-description">{% trans "Have an idea to make our product better? We're all ears!" %}</p>
                    <button class="option-button" data-type="feature">
                        <span>{% trans "Suggest Feature" %}</span>
                    </button>
                </div>
                
                <div class="option-card" data-type="support">
                    <div class="option-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 1a5 5 0 0 0-5 5v1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6a6 6 0 1 1 12 0v6a2.5 2.5 0 0 1-2.5 2.5H9.366a1 1 0 0 1-.866.5h-1a1 1 0 1 1 0-2h1a1 1 0 0 1 .866.5H11.5A1.5 1.5 0 0 0 13 12h-1a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h1V6a5 5 0 0 0-5-5z"/>
                        </svg>
                    </div>
                    <h3 class="option-title">{% trans "General Support" %}</h3>
                    <p class="option-description">{% trans "Need help using the platform or have other questions? We're here to help." %}</p>
                    <button class="option-button" data-type="support">
                        <span>{% trans "Get Support" %}</span>
                    </button>
                </div>
            </div>
            
            <!-- Contact Form Section -->
            <div class="contact-form-section">
                <div class="form-card">
                    <div class="form-header">
                        <div class="form-type">
                            <span id="formTypeIcon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
                                </svg>
                            </span>
                            <h2 id="formTypeTitle">{% trans "Contact Us" %}</h2>
                        </div>
                        <p id="formTypeDescription" class="form-subtitle">{% trans "Fill out the form below and we'll get back to you as soon as possible." %}</p>
                    </div>
                    
                    <form id="contactForm" class="contact-form" method="post" action="{% url 'core:contact' %}">
                        {% csrf_token %}
                        <input type="hidden" name="contact_type" id="contactType" value="general">
                        
                        <div class="form-group">
                            <label for="name">{% trans "Your Name" %}</label>
                            <input type="text" id="name" name="name" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">{% trans "Email Address" %}</label>
                            <input type="email" id="email" name="email" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="subject">{% trans "Subject" %}</label>
                            <input type="text" id="subject" name="subject" class="form-control" required>
                        </div>
                        
                        <!-- Bug Report Fields -->
                        <div id="bugFields" class="conditional-fields" style="display: none;">
                            <div class="form-group">
                                <label for="bugUrl">{% trans "URL Where Bug Occurred" %}</label>
                                <input type="text" id="bugUrl" name="bug_url" class="form-control" placeholder="https://...">
                            </div>
                            
                            <div class="form-group">
                                <label for="bugSteps">{% trans "Steps to Reproduce" %}</label>
                                <textarea id="bugSteps" name="bug_steps" class="form-control" rows="3" placeholder="{% trans '1. Go to...\n2. Click on...\n3. Observe...' %}"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="bugExpected">{% trans "Expected Behavior" %}</label>
                                <textarea id="bugExpected" name="bug_expected" class="form-control" rows="2"></textarea>
                            </div>
                        </div>
                        
                        <!-- Feature Request Fields -->
                        <div id="featureFields" class="conditional-fields" style="display: none;">
                            <div class="form-group">
                                <label for="featureProblem">{% trans "What problem would this feature solve?" %}</label>
                                <textarea id="featureProblem" name="feature_problem" class="form-control" rows="2"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="featureSolution">{% trans "Proposed solution or implementation" %}</label>
                                <textarea id="featureSolution" name="feature_solution" class="form-control" rows="3"></textarea>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">{% trans "Message" %}</label>
                            <textarea id="message" name="message" class="form-control" rows="5" required></textarea>
                        </div>
                        
                        <div class="form-group form-check">
                            <input type="checkbox" id="attachment" name="has_attachment" class="form-check-input">
                            <label for="attachment" class="form-check-label">{% trans "I have screenshots or files to share" %}</label>
                            <div id="attachmentInfo" class="mt-2" style="display: none;">
                                <p class="text-muted small">{% trans "After submitting this form, we'll email you with instructions to share your attachments." %}</p>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="submit-button">
                                <span class="btn-text">{% trans "Submit" %}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"/>
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- FAQ Section -->
        <div class="faq-section">
            <h2 class="section-title">{% trans "Frequently Asked Questions" %}</h2>
            
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faqOne" aria-expanded="true" aria-controls="faqOne">
                            {% trans "How quickly will you respond to my request?" %}
                        </button>
                    </h3>
                    <div id="faqOne" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            {% trans "We typically respond to all inquiries within 24-48 hours during business days. Bug reports are prioritized based on their severity, and feature requests are reviewed by our product team regularly." %}
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqTwo" aria-expanded="false" aria-controls="faqTwo">
                            {% trans "What information should I include in a bug report?" %}
                        </button>
                    </h3>
                    <div id="faqTwo" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            {% trans "For the most helpful bug reports, please include: the specific steps to reproduce the issue, what you expected to happen, what actually happened, and any error messages you received. Screenshots or screen recordings are extremely helpful when available." %}
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqThree" aria-expanded="false" aria-controls="faqThree">
                            {% trans "How do you determine which feature requests to implement?" %}
                        </button>
                    </h3>
                    <div id="faqThree" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            {% trans "We evaluate feature requests based on several factors including how many users would benefit, alignment with our product roadmap, technical feasibility, and overall impact on the user experience. We appreciate detailed feature requests that explain the problem you're trying to solve." %}
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqFour" aria-expanded="false" aria-controls="faqFour">
                            {% trans "Can I follow up on the status of my request?" %}
                        </button>
                    </h3>
                    <div id="faqFour" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            {% trans "Absolutely! When you submit a request, you'll receive a confirmation email with a reference number. You can reply to that email at any time to check on the status or provide additional information." %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="successModalLabel">{% trans "Thank You!" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="success-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                        </svg>
                    </div>
                    <p class="success-message">{% trans "Your message has been sent successfully. We'll get back to you as soon as possible." %}</p>
                    <p class="reference-number">{% trans "Reference:" %} <span id="referenceNumber">REF123456</span></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">{% trans "Close" %}</button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/contact.js' %}"></script>
{% endblock %}